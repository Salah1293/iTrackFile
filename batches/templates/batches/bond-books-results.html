
{% extends 'main.html' %}
{% load static %}
{% block content %}


<main class="batches">  
    <section class="batchList">
      <div class="container">  
        <div class="column">
          <div id="table-title-container">
            <h2 id="tableName">BOND BOOKS</h2>
          </div>
            <!-- <br>
            {% for msg in messages %}
            <div id="warningMessage" class="alert alert-warning" role="alert">
              {{msg}}
            </div>
            {% endfor %}
            <br> -->
          <div id="table-container" class="table-container">
          <table id="my-styled-table" class="table table-striped my-styled-table" style="width:100%">
            <thead>
                <tr>
                    <th>Book</th>
                    <th>Page</th>
                    <th>Document Creation Date</th>
                    <th>Document ID</th>
                    </tr>
            </thead>    
            <tbody>
              <div class="table-body">              
              {% for element in bondBooks %}
                <tr ondblclick="redirectToSingleImage('{{element.docid}}')">
                  <td>{% if element.docindex1 %}{{ element.docindex1 }}{% endif %}</td>
                  <td>{% if element.docindex2 %}{{ element.docindex2 }}{% endif %}</td>
                  <td>{% if element.createdate %}{{ element.createdate }}{% endif %}</td>
                  <td>{% if element.docid %}{{ element.docid }}{% endif %}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        </div>
        <br>
        <p id="result">Result : <span id="resultCount">{{ resultCount }}</span> row{{ resultCount|pluralize:'s'}}</p>
      </div>
          </div>
        </div>     
    </section>
    {% include 'pagination.html' with queryset=bondBooks custom_range=custom_range %}
</main>
<script>

  function redirectToSingleImage(docId) {
     
      window.location.href = `/single-image/${docId}/`;
  }
</script>
{% endblock content %}